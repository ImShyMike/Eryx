<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eryx Package Index</title>
    <base target="_blank" rel="noopener noreferrer">
    <meta name="description" content="The official Package Index for the Eryx programming language">
    <meta property="og:title" content="Eryx Package Index">
    <meta property="og:site_name" content="Eryx Package Index">
    <meta property="og:description" content="The official Package Index for the Eryx programming language">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://github.com/ImShyMike/Eryx/blob/main/assets/eryx_small.png">
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/ImShyMike/Eryx/refs/heads/main/eryx/server/static/eryx.ico"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='package.css') }}">
</head>
<body>
    <header>
        {% if not github_authorized %}
            <a class="top-button" id="center">Login</a>
        {% else %}
            <a class="top-button" href="{{ url_for('dashboard') }}">Dashboard</a>
        {% endif %}
        <h1 id="name"><a href="{{ url_for('home') }}">Eryx Package Index</a></h1>
        {% if github_authorized %}
            <a class="top-button" href="{{ url_for('logout') }}">Logout</a>
        {% else %}
            <a class="top-button" href="{{ url_for('github.login') }}">Login</a>
        {% endif %}
    </header>

    <main>
        <section id="package-detail">
                <div class="package-header">
                    <div class="name-version">
                        <h1>{{ package.name }}</h1>
                        <h4 id="version">v{{ package.latest_version }}</h4>
                    </div>
                    <p class="description">{{ package.description }}</p>
                </div>
    
                <div class="install-section">
                    <pre class="install-command">eryx package install {{ package.name }}@{{ package.latest_version }}</pre>
                </div>
    
                <div class="package-info">
                    <div class="metadata">
                        <p><strong>Downloads:</strong> {{ package.download_count }}</p>
                        <p><strong>Last Updated:</strong> {{ package.latest_release.release_date|humanize }}</p>
                        <p><strong>Created:</strong> {{ package.creation_date|humanize }}</p>
                        <p><strong>Author:</strong> <a class="author-name" href="https://github.com/{{ author }}">{{ author }}</a></p>
                    </div>
                </div>
    
                <div class="readme-section">
                    <h3>README</h3>
                    <div class="readme-content">
                        {{ readme|safe }}
                    </div>
                </div>
    
                <div class="release-history">
                    <h3>Release History</h3>
                    <ul>
                        {% for release in package.releases %}
                        <li>
                            <strong>v{{ release.version }}</strong> - 
                            Released {{ release.release_date|humanize }} 
                            ({{ release.download_count }} downloads)
                        </li>
                        {% endfor %}
                    </ul>
                </div>
        </section>
    </main>

    <footer>
        <p>2025 &copy; ImShyMike - AGPL v3.0</p>
        <div class="icons">
            <a class="icon" href="https://github.com/ImShyMike/Eryx" target="_blank" aria-label="GitHub" title="Github">
                <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24">
                    <path stroke-width="1" d="M12 .5C5.73.5.5 5.73.5 12c0 5.1 3.29 9.41 7.84 10.95.57.1.76-.24.76-.53v-1.89c-3.18.69-3.85-1.53-3.85-1.53-.52-1.34-1.27-1.7-1.27-1.7-1.04-.71.08-.7.08-.7 1.15.08 1.76 1.18 1.76 1.18 1.02 1.75 2.67 1.24 3.32.95.1-.74.4-1.24.72-1.52-2.54-.29-5.22-1.27-5.22-5.63 0-1.24.44-2.25 1.17-3.05-.12-.29-.51-1.45.11-3.01 0 0 .96-.31 3.14 1.17a10.89 10.89 0 012.86-.38c.97 0 1.95.13 2.86.38 2.18-1.48 3.14-1.17 3.14-1.17.62 1.56.23 2.72.11 3.01.73.8 1.17 1.81 1.17 3.05 0 4.37-2.68 5.33-5.23 5.63.41.35.77 1.02.77 2.05v3.04c0 .29.18.63.77.53C20.21 21.41 23.5 17.1 23.5 12 23.5 5.73 18.27.5 12 .5z"/>
                </svg>
            </a>
            <a class="icon" href="https://eryx.shymike.tech" target="_blank" aria-label="Live IDE" title="Live IDE">
                <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24">
                    <path fill-rule="evenodd" d="M3 4a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H3Zm4.293 5.707a1 1 0 0 1 1.414-1.414l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L9.586 12 7.293 9.707ZM13 14a1 1 0 1 0 0 2h3a1 1 0 1 0 0-2h-3Z" clip-rule="evenodd"/>
                  </svg>                              
            </a>
            <a class="icon" href="https://shymike.is-a.dev/Eryx/" target="_blank" aria-label="Documentation" title="Documentation">
                <svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="currentColor" viewBox="0 0 24 24">
                    <path fill-rule="evenodd" d="M6 2a2 2 0 0 0-2 2v15a3 3 0 0 0 3 3h12a1 1 0 1 0 0-2h-2v-2h2a1 1 0 0 0 1-1V4a2 2 0 0 0-2-2h-8v16h5v2H7a1 1 0 1 1 0-2h1V2H6Z" clip-rule="evenodd"/>
                </svg>  
            </a>
        </div>
    </footer>
</body>
</html>
